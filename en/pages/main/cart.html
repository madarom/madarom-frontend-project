<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cart</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../../assets/css/style.css">
  <link rel="icon" href="/assets/img/favicon.ico" type="image/x-icon" />
</head>

<body class="bg-gray-50 text-gray-800">

  <header class="w-full bg-[#fcffff] py-4 px-4 md:px-6 shadow-sm">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
      
      <div class="flex items-center gap-2 text-sm">
        <a href="/en/products" class="hover:underline text-primary flex items-center">
          <i class="fas fa-arrow-left mr-1"></i> Keep Shopping
        </a>
      </div>
  
      <div class="overflow-x-auto">
        <div class="flex items-center gap-3 md:gap-6 text-primary text-xs md:text-sm font-medium min-w-max">
          
          <div class="flex items-center gap-1 whitespace-nowrap">
            <i class="fas fa-shopping-cart text-base md:text-lg text-red"></i>
            <span>Cart</span>
          </div>
          <div class="w-6 h-0.5 bg-[#AB1A17] mx-1 hidden md:block"></div>
  
          <div class="flex items-center gap-1 whitespace-nowrap">
            <i class="fas fa-file-invoice text-base md:text-lg text-red"></i>
            <span>Quote</span>
          </div>
          <div class="w-6 h-0.5 bg-[#AB1A17] mx-1 hidden md:block"></div>
  
          <div class="flex items-center gap-1 whitespace-nowrap">
            <i class="fas fa-file-contract text-base md:text-lg text-red"></i>
            <span>Purchase Order</span>
          </div>
          <div class="w-6 h-0.5 bg-[#AB1A17] mx-1 hidden md:block"></div>
  
          <div class="flex items-center gap-1 whitespace-nowrap">
            <i class="fas fa-credit-card text-base md:text-lg text-red"></i>
            <span>Payment</span>
          </div>
          <div class="w-6 h-0.5 bg-[#AB1A17] mx-1 hidden md:block"></div>
  
          <div class="flex items-center gap-1 whitespace-nowrap">
            <i class="fas fa-truck text-base md:text-lg text-red"></i>
            <span>Delivery</span>
          </div>
        </div>
      </div>
  
      <div id="user-menus" class="flex items-center gap-3 text-sm justify-end hidden">
        <a href="/en/quote" class="text-primary hover:underline hover:text-red">My Quotes</a>
        <a href="/en/order" class="text-primary hover:underline hover:text-red">My Orders</a>
        <a href="/en/invoice" class="text-primary hover:underline hover:text-red">My Invoices</a>
      </div>
    </div>
  </header>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10">

    <div class="grid grid-cols-1 lg:grid-cols-5 gap-6">

      <section
        class="bg-white rounded-[4px] p-6 lg:col-span-3">
        <div class="flex items-center justify-between mb-6">
          <h2 class="text-xl sm:text-2xl font-semibold text-primary">Products in Your Cart</h2>
          <button 
            id="btn-open-clear-cart"
            class="flex items-center gap-2 text-sm md:text-base bg-red-100 danger px-4 py-2 rounded-full hover:bg-red-200 transition mt-0 hidden"
          >
            <i class="fas fa-trash-alt"></i>
            <span class="hidden md:inline">Clear Cart</span>
        </button>
        
        </div>

        <button id="scroll-left"
        class="absolute left-2 top-1/2 transform -translate-y-1/2 z-10 backdrop-blur-md bg-white/30 border border-white/20 text-teal rounded-[4px] shadow-lg p-2 sm:hidden hover:bg-white/40 transition duration-200">
        <i class="fas fa-chevron-left"></i>
      </button>

      <button id="scroll-right"
        class="absolute right-2 top-1/2 transform -translate-y-1/2 z-10 backdrop-blur-md bg-white/30 border border-white/20 text-teal rounded-[4px] shadow-lg p-2 sm:hidden hover:bg-white/40 transition duration-200">
        <i class="fas fa-chevron-right"></i>
      </button>

        <div class="relative">
          <div id="cart-container"
            class="flex sm:block overflow-x-auto gap-4 sm:gap-0 sm:space-y-6 scrollbar-thin scrollbar-thumb-teal-500 scrollbar-track-gray-200 snap-x sm:snap-none scroll-smooth">
          </div>
        </div>
      </section>

      <aside class="bg-white rounded-[4px] p-6 lg:col-span-2 flex flex-col justify-between">
        <div>
          <h2 class="text-xl sm:text-2xl font-semibold mb-6" text-primary>Summary</h2>
            <div id="summary-items" class="rounded-md text-sm text-gray-400 text-left">
            </div>
        </div>

        <div class="mt-8 border-t pt-6">
          <p class="text-xl sm:text-2xl font-bold text-right text-default mb-4">
            Total: <span id="total-amount"></span>
          </p>
          <button id="request-quote"
            class="w-full py-3 rounded-full btn-primary text-white font-semibold shadow-md hover:shadow-lg transition">
            Request a Quote
          </button>
        </div>
      </aside>
    </div>
  </div>

  <div id="confirm-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center px-4 z-50">
    <div
      class="bg-white rounded-xl p-6 max-w-sm w-full transition-opacity duration-300 ease-in-out opacity-100">
      <h3 class="text-lg font-bold text-red-600 mb-2">Confirm Deletion</h3>
      <p class="text-sm text-gray-700 mb-4">
        Are you sure you want to remove <strong id="product-name-to-remove" class="text-gray-900"></strong> from the cart?
      </p>
      <div class="flex justify-end gap-3">
        <button id="cancel-btn"
          class="px-4 py-2 rounded-full btn-default transition">
          Cancel
        </button>
        <button id="confirm-btn"
          class="px-4 py-2 rounded-full bg-red-600 hover:bg-red-700 text-white font-medium transition">
          Delete
        </button>
      </div>
    </div>
  </div>

  <div id="clearCartModal"
    class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center px-4 z-50">

    <div id="modalContent"
      class="bg-white rounded-xl p-6 max-w-sm w-full opacity-0 translate-y-10 transition-all duration-300 ease-in-out">
      <h2 class="text-lg font-bold text-red-600 mb-2">Clear all items?</h2>
      <p class="text-sm text-gray-700 mb-4">This will remove all products from your cart.</p>
      <div id="clearCartButtons" class="flex justify-end gap-3">
        <button id="btn-close-clear-cart"
          class="px-4 py-2 rounded-full btn-default transition">
          Cancel
        </button>
        <button id="btn-confirm-clear-cart"
          class="relative px-5 py-2 rounded-full bg-red-600 hover:bg-red-700 text-white font-semibold
              transition duration-300 ease-in-out shadow-md hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-red-400
              flex items-center justify-center gap-3 transform hover:scale-105">

          <svg id="loadingSpinner"
            class="absolute left-4 h-5 w-5 text-white opacity-0 scale-90 transition-opacity transition-transform duration-300"
            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75 animate-spin" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
          </svg>

          <span id="confirmText">Yes, clear</span>
        </button>

      </div>
      <p id="clearCartMessage" class="text-teal font-semibold hidden mt-4">Cart cleared successfully!</p>
    </div>
  </div>

  <script src="../../assets/js/cart_en.js"></script>
</body>
</html>